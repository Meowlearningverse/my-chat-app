<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - IdeaHub</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/navbar.css">
    <link rel="stylesheet" href="css/modals.css">
    <link rel="stylesheet" href="css/myprofile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navbar Container -->
    <div id="navbar-container">
        <div class="navbar-loading">
            <div class="nav-container">
                <div class="nav-logo">
                    <a href="index.html" class="logo-link">
                        <i class="fas fa-lightbulb"></i>
                        <span class="logo-text">IdeaHub</span>
                    </a>
                </div>
                <div class="nav-loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Profile Header Section -->
        <section class="profile-header-section">
            <div class="container">
                <div class="profile-header">
                    <div class="profile-avatar-large">
                        <img id="profileImg" src="" alt="Profile Picture">
                        <span id="profileInitial">U</span>
                    </div>
                    
                    <div class="profile-info">
                        <h1 id="profileName">Loading...</h1>
                        <p class="profile-bio" id="profileBio">Write something about yourself...</p>
                        
                        <div class="profile-meta">
                            <div class="meta-item">
                                <i class="fas fa-envelope"></i>
                                <span id="profileEmail">user@example.com</span>
                            </div>
                            <div class="meta-item" id="profileWebsite" style="display: none;">
                                <i class="fas fa-globe"></i>
                                <!-- Website link will be inserted here -->
                            </div>
                            <div class="meta-item">
                                <i class="fas fa-calendar"></i>
                                <span id="joinDate">Joined January 2024</span>
                            </div>
                        </div>
                        
                        <div class="profile-actions">
                            <button class="btn btn-primary" id="editProfileBtn">
                                <i class="fas fa-edit"></i>
                                Edit Profile
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Stats & Content -->
        <section class="profile-content-section">
            <div class="container">
                <div class="profile-layout">
                    <!-- Left Column - Stats -->
                    <div class="profile-left">
                        <div class="stats-card">
                            <div class="card-header">
                                <h3>Your Activity</h3>
                            </div>
                            <div class="stats-grid-profile">
                                <div class="stat-item-profile">
                                    <div class="stat-icon-profile">
                                        <i class="fas fa-lightbulb"></i>
                                    </div>
                                    <div class="stat-info-profile">
                                        <h4 id="ideasCount">0</h4>
                                        <p>Ideas Posted</p>
                                    </div>
                                </div>
                                <div class="stat-item-profile">
                                    <div class="stat-icon-profile">
                                        <i class="fas fa-heart"></i>
                                    </div>
                                    <div class="stat-info-profile">
                                        <h4 id="likesCount">0</h4>
                                        <p>Likes Received</p>
                                    </div>
                                </div>
                                <div class="stat-item-profile">
                                    <div class="stat-icon-profile">
                                        <i class="fas fa-comments"></i>
                                    </div>
                                    <div class="stat-info-profile">
                                        <h4 id="commentsCount">0</h4>
                                        <p>Comments</p>
                                    </div>
                                </div>
                                <div class="stat-item-profile">
                                    <div class="stat-icon-profile">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <div class="stat-info-profile">
                                        <h4 id="engagementScore">0</h4>
                                        <p>Engagement Score</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Activity -->
                        <div class="activity-card">
                            <div class="card-header">
                                <h3>Recent Activity</h3>
                            </div>
                            <div class="activity-list" id="activityList">
                                <div class="empty-state">
                                    <i class="fas fa-clock"></i>
                                    <p>No recent activity</p>
                                    <small>Your activity will appear here</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column - Settings -->
                    <div class="profile-right">
                        <!-- Account Settings -->
                        <div class="settings-card">
                            <div class="card-header">
                                <h3>Account Settings</h3>
                            </div>
                            
                            <div class="settings-options">
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <i class="fas fa-moon"></i>
                                        <div>
                                            <div class="setting-title">Dark Mode</div>
                                            <div class="setting-description">Switch between light and dark theme</div>
                                        </div>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="themeToggle">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <i class="fas fa-bell"></i>
                                        <div>
                                            <div class="setting-title">Notifications</div>
                                            <div class="setting-description">Receive updates and notifications</div>
                                        </div>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="notificationsToggle" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>

                            <!-- Danger Zone -->
                            <div class="danger-zone">
                                <h4>Danger Zone</h4>
                                <div class="danger-actions">
                                    <button id="eraseDataBtn" class="btn btn-warning">
                                        <i class="fas fa-eraser"></i> Erase All Data
                                    </button>
                                    <button id="deleteAccountBtn" class="btn btn-danger">
                                        <i class="fas fa-trash"></i> Delete Account
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- JavaScript Files -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <script src="js/firebase-config.js"></script>
    <script src="js/auth-state-manager.js"></script>
    <script src="js/navbar.js"></script>
    <script src="js/modals.js"></script>
    <script src="js/myprofile.js"></script>

    <script>
        // Make profile globally available for modals
        let profileInstance = null;
        document.addEventListener('DOMContentLoaded', () => {
            profileInstance = new MyProfile();
            window.myProfile = profileInstance;
        });
    </script>
</body>
</html>